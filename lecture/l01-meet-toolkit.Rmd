---
title: "BST430  Lecture 1: Meet the toolkit"
author: "Andrew McDavid"
institute: "U of Rochester"
date: "2021-08-17 (updated: `r Sys.Date()`)"
output:
  xaringan::moon_reader:
    css:
      - css/lexis.css
      - css/lexis-fonts.css
    lib_dir: libs
    seal: true
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: "4:3"
---

```{r setup, include=FALSE}
library(knitr)
library(tidyverse)
library(fontawesome)
options(
    htmltools.dir.version = FALSE,
    knitr.table.format = "html",
    knitr.kable.NA = ''
)
knitr::opts_chunk$set(
    warning = FALSE,
    message = FALSE,
    fig.path = "figs/",
    fig.width = 7.252,
    fig.height = 4,
    comment = "#>",
    fig.retina = 3 # Better figure resolution
) 
# Enables the ability to show all slides in a tile overview by pressing "o"
xaringanExtra::use_panelset()
xaringanExtra::use_extra_styles(
  hover_code_line = TRUE,
  mute_unhighlighted_code = FALSE
)

```

```{r echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
```

## Agenda

- Candy
- GitHub, github classroom, and git -- make a handle, accept an assignment, make a commit
- Demo: A reproducible data analysis
- R and RStudio cloud
- R Markdown
- Recap


---

# Candy

1. Take 10 candies from the bag
2. Weigh them (make sure scale is tared and in grams)
3. Record your weight in grams
4. Replace the 10 candies
5. Pass the scale and bag to the next person

---

# Accessing the CandyWeight repository from rstudio cloud

1.  From the BST430 workspace select .blue[New Project] -> .blue[New Project from git repository]
2.  Paste in the github link to your assigned version of the CandyWeight, eg https://github.com/URMC-BST/candyweight-yourgithubID
3.  Now we need to make it so that rstudio knows about your github account.

---

# Linking rstudio to github

1.  https://usethis.r-lib.org/articles/articles/git-credentials.html

---

## Reproducibility checklist

One of recurring themes in this class will be .alert[reproducibility].
Near-term goals:

- Are the tables and figures reproducible from the code and data?
- Does the code actually do what you think it does?
- In addition to what was done, is it clear **why** it was done? 
(e.g., how were parameter settings chosen?)

Long-term goals:

- Can the code be used for other data?
- Can you extend the code to do other things?

---

## Toolkit

![toolkit](l01/img/toolkit.png)

- Scriptability $\rightarrow$ R

- Literate programming (code, narrative, output in one place) $\rightarrow$ R Markdown

- Version control $\rightarrow$ Git / GitHub
---

class: center, middle

# Github and git

---

class: font130

## GitHub accounts

- If you have a GitHub account and sit back and relax for a minute.
- If you do not yet have a GitHub account, create one at https://github.com/. Tips for selecting a username:<sup>1</sup>
    - Incorporate your actual name! People like to know who they’re dealing with. Also makes your username easier for people to guess or remember.
    - Reuse your username from other contexts if you can, e.g., Twitter or Slack.
    - Pick a username you will be comfortable revealing to your future boss.
    - Shorter is better than longer.
    - Be as unique as possible in as few characters as possible.
    - Make it timeless. Don’t highlight your current university, employer, or place of residence.

.footnote[ [1] Source: [Happy git with R](http://happygitwithr.com/github-acct.html#username-advice) by Jenny Bryan.]


---

class: center, middle

# Git and GitHub

---

## How do we collaborate?

- The statistical programming language we'll use is R

- The software we use to interface with R is RStudio

- But how do I get you the course materials that you can build on for your assignments?
    + Hint: I'm not going to email you documents, that would be a mess!
  
---

# Join the classroom

Please check your email or [blackboard](learn.rochester.edu) for the link to join the github classroom.

---

## Version control

- We introduced GitHub as a platform for collaboration

- But it's much more than that...

- It's actually designed for version control

---

## Versioning

![Lego versions](l01/img/lego-steps.png)

---

## Versioning

with human readable messages

![Lego versions with commit messages](l01/img/lego-steps-commit-messages.png)

---

## Why do we need version control?

![PhD Comics](l01/img/phd_comics_vc.gif)

---
class: font120
# Git and GitHub tips

- Git is a version control system -- like “Track Changes” features from Microsoft Word on steroids. GitHub is the home for your Git-based projects on the internet -- like DropBox but much, much better).

--

- There are millions of git commands -- ok, that's an exaggeration, but there are a lot of them -- and very few people know them all. 99% of the time you will use git to add, commit, push, and pull.

--

- We will be doing Git things and interfacing with GitHub through RStudio, but if you google for help you might come accross methods for doing these things in the command line -- skip that and move on to the next resource unless you feel comfortable trying it out.

--

- There is a great resource for working with git and R: [happygitwithr.com](http://happygitwithr.com/). Some of the content in there is beyond the scope of this course, but it's a good place to look for help.

*Note:* [Jenny Bryan](https://github.com/jennybc), the author of Happy Git with R as well as some Tidyverse packages, will also be joining us on Feb 5. So start collecting your questions for her too.


## Recap: What did we just do?

- Locate a repository on **GitHub**

- Clone and open the project in **RStudio**

- Run the analysis using **R Markdown**

- Edit the analysis to exclude reviews from "Other" reviewers using **R** syntax

- Re-run the analysis using **R Markdown**


---

class: center, middle

# R and RStudio

---

## What is R/RStudio?

- R is a statistical programming language

- RStudio is a convenient interface for R (an integreated development environment, IDE)

---

## Let's take a tour - R / RStudio

<center>
[DEMO]
</center>

--

Concepts introduced:

- Console

- Using R as a calculator

- Environment

- Loading and viewing a data frame

- Accessing a variable in a data frame

- R functions

---

## R essentials

A short list (for now):

- Functions are (most often) verbs, followed by what they will be applied to in paramtheses:

```{r eval=FALSE}
do_this(to_this)
do_that(to_this, to_that, with_those)
```

--

- Columns (variables) in data frames are accessed with `$`:

```{r eval=FALSE}
dataframe$var_name
```

--

- Packages are installed with the `install.packages` function and loaded with the `library` function, once per session:

```{r eval=FALSE}
install.packages("package_name")
library(package_name)
```

---

## What is the Tidyverse?

.pull-left[
![](l01/img/tidyverse.png)
]

.pull-right[
<center>
<a href="https://www.tidyverse.org/">tidyverse.org</a>
</center>

- The tidyverse is an opinionated collection of R packages designed for data science. 
- All packages share an underlying philosophy and a common syntax. 
]

--

*Note:* [Hadley Wickham](http://hadley.nz/), the author and maintainer of these packages (along with a team of developers), will join us on Feb 5! So start collecting your questions for him now.

---

class: center, middle

# R Markdown

---


## R Markdown

- Fully reproducible reports -- each time you knit the analysis is ran from the beginning

- Simple markdown syntax for text

- Code goes in chunks, defined by three backticks, narrative goes outside of chunks

---

## Let's take a tour -- R Markdown

<center>
[DEMO]
</center>

Before we move on...

.question[<i class="fa fa-user" aria-hidden="true"></i> &nbsp; What is the Bechdel test?]

--

The Bechdel test asks whether a work of fiction features at least two women who talk to each other about something other than a man, and there must be two women named characters.

--

Concepts introduced:

- Forking a project of mine: "Bechdel"

- Knitting documents

- R Markdown and (some) R syntax

---

## R Markdown tips

- Keep the [R Markdown cheat sheet](https://github.com/rstudio/cheatsheets/raw/master/rmarkdown-2.0.pdf) and Markdown Quick Reference (Help -> Markdown Quick Reference) handy, we'll refer to it often as the course progresses

- The workspace of your R Markdown document is separate from the Console

<br><br>
<center>
[DEMO]
</center>

---

## How will we use R Markdown?

- Every assignment / report / project / etc. is an R Markdown document

- You'll always have a template R Markdown document to start with

- The amount of scaffolding in the template will decrease over the semester

---


---

## Let's take a tour -- Git / GitHub

**We'll cover this time permitting, you'll see it again in lab tomorrow**

Concepts introduced:

- Connect an R project to Github repository

- Working with a local and remote repository

- Committing, Pushing and Pulling

There is just a bit more of GitHub that we'll use in this class, but for today this is enough.

---

class: center, middle

# Recap

---

## Recap

Can you answer these questions?

- What is reproducible data analysis, and why do we care?
- What is version control, and why do we care?
- What is R vs RStudio?
- What is git vs GitHub (and do I need to care)?

---

## Before next class

- Readings for next Monday posted

- Tomorrow in lab you'll get to really sink your teeth into everything we demoed today

- Having difficulty? Ask on GitHub or come to office hours!

--- 

# Acknowledgments

These materials were adapted from [Mine Çetinkaya-Rundel and colleagues](https://github.com/Sta199-S18/website/blob/master/static/slides/lec-slides/01-meet-toolkit.Rmd)
